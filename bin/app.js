// Generated by Haxe 4.0.0-rc.5+4a745347f
(function ($global) { "use strict";
var Admin = require("firebase-admin");
var App = function() {
	js_node_Fs.readFile("serviceAccountKey.json",{ encoding : "utf-8"},function(error,serviceAccountKey) {
		var message_data_score = "850";
		var message_data_time = "2:45";
		var message_data_asdasd = "666";
		var message_topic = "example2";
		Admin.initializeApp({ credential : Admin.credential.cert(JSON.parse(serviceAccountKey)), storageBucket : "gs://devinflow.appspot.com", databaseURL : "https://devinflow.firebaseio.com"});
		var database = Admin.database();
		var bucket = Admin.storage().bucket();
		bucket.upload("test.png",{ destination : "new-image.png"}).then(function(response) {
			var file = response[0];
			return file.makePublic().then(function(response1) {
				var storageRoot = "https://storage.googleapis.com/";
				var bucketName = "devinflow.appspot.com/";
				var downloadUrl = storageRoot + bucketName + "new-image.png";
				console.log("test/App.hx:52:",downloadUrl);
				return;
			});
		}).catch(function(error1) {
			console.log("test/App.hx:55:",error1);
			return;
		});
	});
};
App.main = function() {
	new App();
};
var js_node_Fs = require("fs");
var util_AsyncBuilder = function() { };
App.main();
})({});
